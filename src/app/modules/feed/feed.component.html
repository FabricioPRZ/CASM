<app-header></app-header>
<div class="main-container">
    <app-sidebar *ngIf="isSidebarVisible && !isMobileView"></app-sidebar>
    <div class="content">
        <ng-container *ngFor="let publication of publications">
            <app-publication-card 
                [photo_profile]="publication.profile_img"
                [user_name]="publication.user_name"
                [description]="publication.description" 
                [image]="publication.image"
                [id_publication]="publication.id_publication">
            </app-publication-card>
        </ng-container>
    </div>
    
</div>

<button class="floating-button" (click)="openPublicationDialog()">
    <i class="fas fa-plus"></i>
</button>

<div class="notes">
    <app-note-card
      *ngFor="let note of notes"
      [title]="note.title"
      [description]="note.description">
    </app-note-card>
</div>

<div class="agregar-publication-modal" [ngClass]="{'show': isModalOpen}">
    <img src="CASM.png" alt="logo" class="logo">
  
    <h1 class="title-modal">Agregar Publicaci贸n</h1>
  
    <label for="description" class="label-input">Ingresa la descripci贸n</label>
    <input 
        type="text" 
        id="description" 
        placeholder="Descripci贸n de la publicaci贸n" 
        class="input-text" 
        [(ngModel)]="publicationDescription">
  
    <label for="content" class="label-input">Agrega una imagen</label>
    <input 
        type="file" 
        id="content" 
        placeholder="Agrega una imagen" 
        class="publication-image" 
        (change)="handleFileInput($event)">
  
    <button class="btn-cancel" (click)="closePublicationDialog()">
      <i class="fas fa-times"></i> Cancelar
    </button>
  
    <button (click)="createPublication()">
      <i class="fas fa-save"></i> Publicar
    </button>
</div>

<footer *ngIf="isMobileView" class="footer-menu">
    <app-footer-menu></app-footer-menu>
</footer>
